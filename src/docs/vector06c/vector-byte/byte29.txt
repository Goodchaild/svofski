                           ЄЏ
         Є”””””Џ Є”””””Џ Є”«© Є”Џ Є”””””Џ       Є”””””Џ Є”””””Џ
        ««««««”©«««««« ѓ«« ѓ «« ѓ««««««”©      «««««« ѓ«««««« ѓ
        «« ђ”””Џ«« ђ«« ѓ«« ѓ««« ѓ  «« ѓ   Є”””Џ««”©««Є©«« ђ«« ѓ
        «««««« ѓ«««««« ѓ«« «Є«« ѓ  «« ѓ  ««««”©   ««”© «««««« ѓ
        «« ђ«« ѓ«« ѓ«« ѓ«««Є©«« ѓ  «« ѓ         «« ђ””Џ Є””«« ѓ
        ««««««”©««”©««”©««”© ««”©  ««”©        ««««««”©««««««”©

      ¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬¬
     Є”””””””””””””””””””””””””””””””””””””””””””””””””””””””””Џ«
     ѓ                       Центр "Байт"                      ѓ«
     ѓ                610031, г.Киров-31, а/я 2629             ѓ«
     ѓ                 Луппов Григорий Борисович               ѓ«
     ѓ       Информационно-рекламный выпуск центра "Байт"      ѓ«
     ђ”””””””””””””””””””””””””””””””””””””””””””””””””””””””””©
¦”””””””””””””””””””””””””””””””””””””””””””””””””””””””””””””””””””‡
Љ Печать в KOI-8 из МикроДос.             п. Торфяной, Лысов Сергей Љ
Ј”””””””””””””””””””””””””””””””””””””””””””””””””””””””””””””””””””Ќ
    Владельцы  ПЭВМ  "Вектор-06Ц", имеющие принтер, наверное заметили,
что коды знакогенератора МикроДос и того, что выводится на принтер, не
совпадают. Это происходит из-за того, что при выводе на печать  произ-
ходит перекодировка  символов  из KOI-8  в знакогенератор, более расп-
ространенный на  принтерах. Но если на вашем принтере установлен стан-
дартный KOI-8  (например,  на D100-M, только без символов псевдографи-
ки), то  удобнее будет обойти подпрограмму перекодировки. Эта подпрог-
рамма находится по адресам : DBB7H - DCB3H.

    DBB7  PUSH PSW
    DBB8  PUSH H
    DBB9  PUSH D
    DBBA  PUSH B
    DBBB  LXI  H,DCD2
    . . .
    DCAC  CALL F80F  ; Вызов подпрограммы вывода байта на принтер.
    DCAF  PUSH B
    DCB0  PUSH D
    DCB1  PUSH H
    DCB2  PUSH PSW
    DCB3  RET

    Для того, чтобы обойти эту подпрограмму, достаточно по адресу DBBB
поместить команду JMP DCAC. Для этого после запуска МикроДос необходи-
мо записать систему на диск (лучше всего на квазидиск) :

 A>1 44 C:OS.COM

Затем загрузить ее в SID :

 C>SID OS.COM

    Данная подпрограмма будет находиться по адресам :  34B7 - 35B3.  С
помощью команды A34BB необходимо изменить содержимое ячеек памяти :

 #A34BB [ВК]
 #34BB JMP DCAC [ВК]
 #34BE [ВК]
 #_

    Затем переделанную систему необходимо выгрузить на диск, после че-
го можете смело ею пользоваться.
                                              п. Торфяной, тел. 3-44 ,
                                                        Лысов Сергей .

¦”””””””””””””””””””””””””””””””””””””””””””””””””””””””””””””””””””‡
Љ Новая плата "R-Sound"                           Костиневич Руслан Љ
Ј”””””””””””””””””””””””””””””””””””””””””””””””””””””””””””””””””””Ќ
                                           222120 Беларусь, г.Борисов
                                           ул.Гагарина, 67-157
                                           т. (017-77) 50-146
 В "Байте-24" было дано описание  новой платы музыкального сопроцессо-
ра, подключаемой к компьютеру через разъем "ПУ", а именно платы "R-So-
und-2" (v 4.1).  Тестирование платы на разных "Векторах" выявило  нес-
колько случаев, когда сопроцессор не работал  на исправном компьютере,
что вызвано в общем-то недосмотров заводов-изготовителей. Дело в  том,
что в некоторых моделях  "Векторов" отсутствует  соединение  "нулевой"
шины с одним из контактов гнезда "ПУ"  (А10),  что  приводит  к отказу
исправной платы работать на таком компьютере. Соединение контактов А10
и С01 гнезда между  собой восстанавливает работоспособность платы. Для
того, чтобы этот недостаток компьютера не мешал никому из  пользовате-
лей, купивших или собравших плату своими руками, разработана новая мо-
дель платы (v 4.2),  почти  не  отличающаяся внешне от предыдущей. Для
желающих собрать ее  самостоятельно приведена схема и рисунок печатной
платы с двух сторон. Те же, кто не может или не хочет возиться со вся-
кими "железками", могут приобрести  плату с  сопроцессором, написав по
адресу, указанному в начале статьи. Цена 1 платы "R-Sound" v 4.2 9 USD
(или по  курсу), платы,  оснащенной дополнительным  разъемом "ПУ" (для
подключения джойстиков, принтера и  т.д.) -  10 $. В ответ на ваше пи-
сьмо вам будут сообщены адреса лиц на территории вашей страны, торгую-
щих  платами "R-Sound". Приведенные  выше цены - цены  изготовителя, у
распространителей цены  свободные. Если вы желаете стать распространи-
телем плат в вашем регионе, пишите пожалуйста. Желательно, чтобы расп-
ространители находились недалеко  от границы с  Беларусью (Смоленск) и
были  в состоянии заехать за  платами. Если же нет такой возможности -
ничего страшного. Пишите, придумаем что-нибудь.
 Адаптация программ, написанных для "Sound Tracker" под систему "R-So-
und" не представляет  большого труда. Необходимо,  во-первых, раскомп-
рессировать программу (если  это нужно). О распаковке программ, сжатых
компрессорами  неоднократно писалось во  многих изданиях для векторис-
тов, поэтому подробно останавливаться на этой операции нет смысла. Да-
лее вы должны  просмотреть начало программы и записать первые 2-3 опе-
ратора на бумаге, чтобы не потерять их. Затем вместо первого оператора
пишите JMP XXXX, где ХХХХ - адрес подпрограммы установки м/с ВВ55 пор-
та "ПУ" в режим, обеспечивающий нормальную работу с сопроцессором. Вот
ее текст:
        MVI A,80H
        OUT 4
        ...             ; Здесь должны быть операторы, которые вы
        ...             ; записали на бумагу, и которые были "забиты"
        ...             ; командой JMP XXXX
        JMP XXXY        ; пересылка управления в начало программы, на
                        ; первый "незабитый" оператор.
 Далее вам  необходимо отыскать в теле программы оператор, реализующий
связь с платой "Sound Tracker" (OUT 15H). Вместо этого оператора пишем
JMP ADAPT, т.е. передаем управление программе адаптации, которая жела-
тельно должна находиться в  конце программы, т.к. "втискивать" ваш ку-
сок  в тело программы ирудное и  опасное  занятие.  Разумеется, вместо
ADAPT вами должен быть подставлен реальный  адрес подпрограммы адапта-
ции.
 Несколько слов  о самой  подпрограмме,  текст  которой приведен ниже.
Этот способ обращения к плате "R-Sound" является наиболее корректным и
позволяет добиться естественного  звучания.  Подпрограмма не уничтожая
обращения к плате "Sound Tracker", добавляет  к ним свои, рассчитанные
на систему "R-Sound", то есть доработанная программа допускает наличие
у пользователя  музыкальной платы любой  конструкции  из разработанных
для "Вектора".

;Подпрограмма адаптации музыкальных программ, ранее не расчитанных на
;работу с платой "R-Sound".
;(C) 12.09.1994 * Alcosoft * Roger Merry Woters.

AE5F7:
ADAPT:  OUT     15H     ; Сообщаем "ST" номер регистра
        OUT     06H     ; Эти же данные выдаем на ШД "RS"
        MOV     B,A     ; Сохраняем номер регистра в "B"
        MVI     A,6     ; Строб выбора регистра выдаем
        OUT     5       ; в 5 порт
        XRA     A       ; Обнуляем А и гасим строб,
        OUT     5       ; регистр выбран.
        MOV     A,M     ; Читаем данные
        OUT     14H     ; Засылаем данные в "ST"
        OUT     06H     ; то же самое выставляем на ШД "RS"
        MVI     A,4     ; Строб записи данных в регистр для "RS"
        OUT     5       ; выдаем в 5 порт
        XRA     A       ; и тут же его
        OUT     5       ; гасим, данные приняты.
        DCX     H       ; Увеличиваем значение счетчика
        MOV     A,B     ; Восстанавливаем значение счетчика
        DCR     A       ; Все регистры перебрали?
        JP      ADAPT   ; (AE5F7)
        RET

 Несколько слов для программистов, использующих для написания программ
подпрограмму Виктора Саттарова, называющуюся "Playv1.ASM". Вам  доста-
точно  разместить  в теле этой программы п/п  ADAPT,  расположив ее по
адресу метки AE5F7 и ваши игры и "музыкалки" для сопроцессора приобре-
тут еще больший спрос. Думайте сами, решайте сами, иметь или не иметь.
Успехов!

 